{"version":3,"sources":["apis/wikipedia.js","components/Search.js","App.js","index.js"],"names":["axios","create","baseURL","params","action","list","origin","format","Search","useState","term","setTerm","debouncedTerm","setDebouncedTerm","results","setResults","useEffect","timerID","setTimeout","clearTimeout","a","wikipedia","get","srsearch","data","query","search","renderedResults","map","result","key","pageid","className","href","target","rel","title","snippet","toString","replace","value","onChange","e","ReactDOM","render","App","document","querySelector"],"mappings":"0NAEeA,E,OAAAA,EAAMC,OAAO,CAC1BC,QAAS,qCACTC,OAAQ,CACNC,OAAQ,QACRC,KAAM,SACNC,OAAQ,IACRC,OAAQ,UC0EGC,EA9EA,WAAM,MAEKC,mBAAS,eAFd,mBAEZC,EAFY,KAENC,EAFM,OAIuBF,mBAASC,GAJhC,mBAIZE,EAJY,KAIGC,EAJH,OAMWJ,mBAAS,IANpB,mBAMZK,EANY,KAMHC,EANG,KASnBC,qBAAU,WACR,IAAMC,EAAUC,YAAW,WACzBL,EAAiBH,KAChB,KAEH,OAAO,WACLS,aAAaF,MAEd,CAACP,IAGJM,qBAAU,YACI,uCAAG,8BAAAI,EAAA,sEACUC,EAAUC,IAAI,GAAI,CACvCnB,OAAQ,CACNoB,SAAUX,KAHD,gBACLY,EADK,EACLA,KAKRT,EAAWS,EAAKC,MAAMC,QANT,2CAAH,qDAQZA,KACC,CAACd,IAEJ,IAAMe,EAAkBb,EAAQc,KAAI,SAACC,GACnC,OACE,yBAAKC,IAAKD,EAAOE,OAAQC,UAAU,QACjC,yBAAKA,UAAU,yBACb,uBACEC,KAAI,yCAAoCJ,EAAOE,QAC/CG,OAAO,SACPC,IAAI,sBACJH,UAAU,aAJZ,OASF,yBAAKA,UAAU,WACb,yBAAKA,UAAU,UAAUH,EAAOO,OAC/BP,EAAOQ,QACLC,WACAC,QAAQ,8BAA+B,IACvCA,QAAQ,YAAa,SAWhC,OACE,6BACE,yBAAKP,UAAU,WACb,yBAAKA,UAAU,SACb,oDACA,2BACEQ,MAAO9B,EACP+B,SAAU,SAACC,GAAD,OAAO/B,EAAQ+B,EAAER,OAAOM,QAClCR,UAAU,YAIhB,yBAAKA,UAAU,kBAAkBL,KC1DxB,aACb,OACE,6BACE,kBAAC,EAAD,Q,MChBNgB,IAASC,OAAO,kBAACC,EAAD,MAASC,SAASC,cAAc,Y","file":"static/js/main.29e8e744.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport default axios.create({\n  baseURL: 'https://en.wikipedia.org/w/api.php',\n  params: {\n    action: 'query',\n    list: 'search',\n    origin: '*',\n    format: 'json',\n  },\n});\n","import React, { useState, useEffect } from 'react';\n\nimport wikipedia from '../apis/wikipedia';\n\nconst Search = () => {\n  //Instialize an a search term State with the default value 'programming'\n  const [term, setTerm] = useState('programming');\n  //Instialize a State variable storing the debounced search term which will be used to execute the Wikipedia search with the default value as term state (i.e. 'programming')\n  const [debouncedTerm, setDebouncedTerm] = useState(term);\n  //Instialize a results State as an empty array which stores the search results from the Wikipedia API\n  const [results, setResults] = useState([]);\n\n  //Only update the search term (debouncedTerm) that is used to execute the Wikipedia search if nothing is typed for one second\n  useEffect(() => {\n    const timerID = setTimeout(() => {\n      setDebouncedTerm(term);\n    }, 1000);\n\n    return () => {\n      clearTimeout(timerID);\n    };\n  }, [term]);\n\n  //Execute the Wikipedia search whenever debouncedTerm is updated (and when the app first loads using the default value)\n  useEffect(() => {\n    const search = async () => {\n      const { data } = await wikipedia.get('', {\n        params: {\n          srsearch: debouncedTerm,\n        },\n      });\n      setResults(data.query.search);\n    };\n    search();\n  }, [debouncedTerm]);\n\n  const renderedResults = results.map((result) => {\n    return (\n      <div key={result.pageid} className=\"item\">\n        <div className=\"right floated content\">\n          <a\n            href={`https://en.wikipedia.org?curid=${result.pageid}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"ui button\"\n          >\n            Go\n          </a>\n        </div>\n        <div className=\"content\">\n          <div className=\"header\">{result.title}</div>\n          {result.snippet\n            .toString()\n            .replace(/<span class=\"searchmatch\">/g, '')\n            .replace(/<\\/span>/g, '')}\n          {\n            //Sets the innerHTML content of the React Div to the String obtained from the Wikipedia API\n            //WARNING: Susceptible to XSS attacks\n            //<span dangerouslySetInnerHTML={{ __html: result.snippet}}></span>\n          }\n        </div>\n      </div>\n    );\n  });\n\n  return (\n    <div>\n      <div className=\"ui form\">\n        <div className=\"field\">\n          <label>Enter Search Term</label>\n          <input\n            value={term}\n            onChange={(e) => setTerm(e.target.value)}\n            className=\"input\"\n          />\n        </div>\n      </div>\n      <div className=\"ui celled list\">{renderedResults}</div>\n    </div>\n  );\n};\n\nexport default Search;\n","import React from 'react';\n//import Accordion from './components/Accordion';\nimport Search from './components/Search';\n\n// const items = [\n//   {\n//     title: 'What is React?',\n//     content: 'React is a frontend javascript framework',\n//   },\n//   {\n//     title: 'Why use React?',\n//     content: 'React is a favorite JS library among engineers',\n//   },\n//   {\n//     title: 'How do you use React?',\n//     content: 'You use React by using components',\n//   },\n// ];\n\nexport default () => {\n  return (\n    <div>\n      <Search />\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport 'semantic-ui-css/semantic.min.css';\n\nReactDOM.render(<App />, document.querySelector('#root'));\n"],"sourceRoot":""}